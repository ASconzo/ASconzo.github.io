<!DOCTYPE html>
<html>
	<head>
		<title>Alex Sconzo | Projects</title>
		<link rel="stylesheet" href="../styles.css" />
		<meta charset="UTF-8">
		<link rel="icon" type="image/x-icon" href="../favicon.ico">
	</head>

	<body>

		<div class="wrap">
			<div class="sidenav">
				<a href = "../index.html">
					<figure class="figure">
						<img src="../pictures/Win2k-MyComputer.png" alt="Home Icon" style="max-width:64px">
						<figcaption>Home</figcaption>
					</figure>
				</a>
				<a href = "../news.html">
					<figure class="figure">
						<img src="../pictures/Win2k-Internet.png" alt="News Icon" style="max-width:64px">
						<figcaption>News</figcaption>
					</figure>
				</a>
				<a href = "../about.html">
					<figure class="figure">
						<img src="../pictures/Win2k-About.png" alt="About Icon" style="max-width:64px">
						<figcaption>About</figcaption>
					</figure>
				</a>
				<a href = "../projects.html">
					<figure class="figure">
						<img src="../pictures/Win2k-Paint.png" alt="Projects Icon" style="max-width:64px">
						<figcaption>Projects</figcaption>
					</figure>
				</a>
				<a href = "../blog.html">
					<figure class="figure">
						<img src="../pictures/Win2k-Notepad.png" alt="Blog Icon" style="max-width:64px">
						<figcaption>Blog</figcaption>
					</figure>
				</a>
			</div>

			<div class="main">
				
				<script>
					var expressionString = "";
					
					function extendExpression(currentItem) {
						expressionString = expressionString + currentItem;
						document.getElementById("calcSpace").innerHTML = expressionString;
					}
					
					function isNumber(character) {
						if (character === '0'){
							return true;
						}else if (character === '0'){
							return true;
						}else if (character === '1'){
							return true;
						}else if (character === '2'){
							return true;
						}else if (character === '3'){
							return true;
						}else if (character === '4'){
							return true;
						}else if (character === '5'){
							return true;
						}else if (character === '6'){
							return true;
						}else if (character === '7'){
							return true;
						}else if (character === '8'){
							return true;
						}else if (character === '9'){
							return true;
						}else if (character === '.'){
							return true;
						}else {
							return false;
						}
						
					}
					
					function stringToExpression(stringInput){
						var newExpression = [];
						var tempString = "";
						for (let item of stringInput){
							if (isNumber(item)){
								tempString = tempString + item;
							}else{
								newExpression.push(tempString);
								tempString = "";
								newExpression.push(item);
							}
						}
						newExpression.push(tempString); tempString = '';
						return newExpression;
					}
					
					function evaluateExpression(expressionToBeEvaluated, leftArray, rightArray){
						var expression = expressionToBeEvaluated;
						//Part 1: Turn it into an array of items
						var finalAnswer;
						
						newLine = "<br> = [" + expression.join(" ") + "]";
						extendExpression(newLine);
						
						//Part 1.5: Process parenthicals
						for(var i=0; i<expression.length; i++){
							var leftParenIndex = -1;
							var rightParenIndex = -1;
							leftParenIndex = expression.lastIndexOf("(");
							rightParenIndex= expression.indexOf(")", leftParenIndex);
							if (leftParenIndex != -1){
								var removalLength = rightParenIndex - leftParenIndex + 1;
								var parentheticalExpression = expression.slice(leftParenIndex + 1, rightParenIndex);
								var leftArray = [];
								var rightArray = [];
								console.log(parentheticalExpression);
								parentheticalExpression = evaluateExpression(parentheticalExpression, leftArray, rightArray);
								expression.splice(leftParenIndex, removalLength, parentheticalExpression);
								i = 0;
							}
						}
							//expression
						
						//Part 2: Evaluate math
						
						//Part 2.1: Evaluate exponents
						for(var i=0; i<expression.length; i++){
							if (expression[i] == "^"){
								var a = parseFloat(expression[i-1]);
								var b = parseFloat(expression[i+1]);
								console.log(a,b);
								var answer = Math.pow(a, b);
								expression.splice(i-1, 3, answer);
								newLine = "<br> = [" + expression.join(" ") + "]";
								extendExpression(newLine);
								i = 0;
								
							}
						}
						
						console.log(expression);
							
						//Part 2.2 Evaluate multiplication and Division
						for(var i=0; i<expression.length; i++){
							if (expression[i] == "*"){
								var a = parseFloat(expression[i-1]);
								var b = parseFloat(expression[i+1]);
								console.log(a,b);
								var product = a*b;
								expression.splice(i-1, 3, product);
								newLine = "<br> = [" + expression.join(" ") + "]";
								extendExpression(newLine);
								i = 0;
								
							}
							if (expression[i] == "/"){
								var a = parseFloat(expression[i-1]);
								var b = parseFloat(expression[i+1]);
								var quotient = a/b;
								expression.splice(i-1, 3, quotient);
								newLine = "<br> = [" + expression.join(" ") + "]";
								extendExpression(newLine);
								i = 0;
							}
						}
						console.log(expression);
						
						//Part 2.3: Evaluate addition and subtraction
						for(var i=0; i<expression.length; i++){
							if (expression[i] == "+"){
								var a = parseFloat(expression[i-1]);
								var b = parseFloat(expression[i+1]);
								console.log(a,b);
								var sum = a+b;
								expression.splice(i-1, 3, sum);
								newLine = "<br> = [" + expression.join(" ") + "]";
								extendExpression(newLine);
								i = 0;
							}
							if (expression[i] == "-"){
								var a = parseFloat(expression[i-1]);
								var b = parseFloat(expression[i+1]);
								var difference = a-b;
								expression.splice(i-1, 3, difference);
								newLine = "<br> = [" + expression.join(" ") + "]";
								extendExpression(newLine);
								i = 0;
							}
						}
						return finalAnswer;
					}
					
					
					
					function resetExpression(){
						expressionString = "";
						document.getElementById("calcSpace").innerHTML = "Use the buttons below to enter your commands!";
					}
					
					function doNothing(){}
				</script>
				
				<section class="bluebox" id="top">
					<h1 style="text-align:center;">Alex Sconzo | Projects</h1>
					<p><i><a href = "../homepage.html">Home</a> > <a href="../projects.html">Projects</a> > <a href="./index.html">Javascript learning</a> > </i> <strong>Javascript Calculator</strong></p>
					<hr>
					<div>
						<h2>Javascript Calculator</h2>
						<hr>
						<style>
							.grid-container{
								display: grid;
								grid-template-columns: auto auto auto auto auto;
								gap: 10px;
								background-color: rgb(0, 163, 225);
								padding: 10px;
								border: ridge gold;
							}
							.grid-container > button {
								background-color: rgb(0,103,165);
								border: ridge gold;
								text-align: center;
								font-size: 30px;
								color: inherit;
							}
							.grid-container > button:hover{
								background-color:#fff7cc;
								color:black;
								cursor: pointer;
							}
							.grid-container >button:active{
								background-color:gold;
								border: inset gold;
							}
							#calcSpace{
								grid-column: 1/6;
							}
							
						</style>
						<div class="grid-container">
							<div id="calcSpace" style="background-color: white; border: ridge gold; color:black; text-align:left; font-size: 30px;">Use the buttons below to enter your commands!</div>
							<button type="button" onclick="extendExpression('1')">1</button>
							<button type="button" onclick="extendExpression('2')">2</button>
							<button type="button" onclick="extendExpression('3')">3</button>
							<button type="button" onclick="extendExpression('+')">+</button>
							<button type="button" onclick="extendExpression('^')">^</button>
							<button type="button" onclick="extendExpression('4')">4</button>
							<button type="button" onclick="extendExpression('5')">5</button>
							<button type="button" onclick="extendExpression('6')">6</button>
							<button type="button" onclick="extendExpression('-')">-</button>
							<button style="cursor: not-allowed" type="button" onclick="extendExpression('(')">(</button>
							<button type="button" onclick="extendExpression('7')">7</button>
							<button type="button" onclick="extendExpression('8')">8</button>
							<button type="button" onclick="extendExpression('9')">9</button>
							<button type="button" onclick="extendExpression('*')">*</button>
							<button style="cursor:not-allowed" type="button" onclick="extendExpression(')')">)</button>
							<button type="button" id="clear" style="background-color:indianred"
									onclick="resetExpression()">C</button>
							<button type="button" onclick="extendExpression('0')">0</button>
							<button type="button" onclick="extendExpression('.')">.</button>
							<button type="button" onclick="extendExpression('/')">/</button>
							<button type="button" id="equals" style="background-color:green"
									onclick="evaluateExpression(stringToExpression(expressionString),[],[])">=</button>
						</div>
							
					</div>
					<p>
						This is a simple calculator programmed in Javascript.
					</p>
					<ul>Finished:
						<li>Build the layout and make it pretty</li>
						<li>Make the buttons print to the solution box</li>
						<li>Make subsequent integer button presses append value to previous int instead adding a new block to the main array</li>
					</ul>
					<ul>To do:
						<li>Finish programming the decimal button. It doesn't play nice with the 0 button currently.</li>
						<li>Implement the equals button</li>
						<li>Implement the basic operators</li>
						<li>Implement parentheticals</li>
						<li>Implement the show work functions</li>
						<li>Add code section to the page to display my javascript logic</li>
					</ul>
					
					
					
				</section>
			</div>

			<div style = "width: 160px;"><!-- I'm empty!, I exist to space out the flexbox more evenly --></div>

		</div>

		<br><br><br>
		<section class="bluebox">
			<p style="text-align:center"><i>All images retrieved from the Internet, except for the ones created by me. I do not claim ownership over any images used on this page, except for the ones created by me. Rights are reserved by their respective owners. Content written by me, 2024</i></p>
		</section>
	</body>
</html>